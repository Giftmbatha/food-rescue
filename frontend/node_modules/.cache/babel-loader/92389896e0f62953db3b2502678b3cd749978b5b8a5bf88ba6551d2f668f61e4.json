{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\food-rescue\\\\frontend\\\\src\\\\pages\\\\Profile.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { API_URL, authHeader } from '../api';\nimport { getRole } from '../auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Profile() {\n  _s();\n  const role = getRole();\n  const [name, setName] = useState('');\n  const [city, setCity] = useState('');\n  const [email, setEmail] = useState('');\n  const [message, setMessage] = useState('');\n  const createProfile = async () => {\n    setMessage('');\n    if (!name || !city || !email) {\n      setMessage('All fields required.');\n      return;\n    }\n    const endpoint = role === 'donor' ? 'donors' : 'ngos';\n    const res = await fetch(`${API_URL}/${endpoint}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        ...authHeader()\n      },\n      body: JSON.stringify({\n        name,\n        city,\n        contact_email: email\n      })\n    });\n    const data = await res.json().catch(() => ({\n      detail: 'Failed'\n    }));\n    if (!res.ok) {\n      setMessage(data.detail || 'Failed');\n      return;\n    }\n    if (role === 'donor') localStorage.setItem('donorId', data.id);else localStorage.setItem('ngoId', data.id);\n    setMessage(`Created ${role.toUpperCase()} profile with id ${data.id}`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 flex justify-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card w-full max-w-md bg-base-100 shadow\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"card-title\",\n          children: [\"Create \", role === null || role === void 0 ? void 0 : role.toUpperCase(), \" Profile\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 11\n        }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"input input-bordered\",\n            placeholder: \"Name\",\n            value: name,\n            onChange: e => setName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"input input-bordered\",\n            placeholder: \"City\",\n            value: city,\n            onChange: e => setCity(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"input input-bordered\",\n            placeholder: \"Contact Email\",\n            value: email,\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: createProfile,\n            children: \"Save Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm opacity-70\",\n            children: \"Your profile ID will be stored locally for later use.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n}\n_s(Profile, \"5PoY8qAIU9kJzraMV6+EgfmZjOQ=\");\n_c = Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","API_URL","authHeader","getRole","jsxDEV","_jsxDEV","Profile","_s","role","name","setName","city","setCity","email","setEmail","message","setMessage","createProfile","endpoint","res","fetch","method","headers","body","JSON","stringify","contact_email","data","json","catch","detail","ok","localStorage","setItem","id","toUpperCase","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","e","target","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Admin/food-rescue/frontend/src/pages/Profile.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { API_URL, authHeader } from '../api';\r\nimport { getRole } from '../auth';\r\n\r\nexport default function Profile() {\r\n  const role = getRole();\r\n  const [name, setName] = useState('');\r\n  const [city, setCity] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [message, setMessage] = useState('');\r\n\r\n  const createProfile = async () => {\r\n    setMessage('');\r\n    if (!name || !city || !email) { setMessage('All fields required.'); return; }\r\n    const endpoint = role === 'donor' ? 'donors' : 'ngos';\r\n    const res = await fetch(`${API_URL}/${endpoint}`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json', ...authHeader() },\r\n      body: JSON.stringify({ name, city, contact_email: email })\r\n    });\r\n    const data = await res.json().catch(()=>({detail:'Failed'}));\r\n    if (!res.ok) { setMessage(data.detail || 'Failed'); return; }\r\n    if (role === 'donor') localStorage.setItem('donorId', data.id);\r\n    else localStorage.setItem('ngoId', data.id);\r\n    setMessage(`Created ${role.toUpperCase()} profile with id ${data.id}`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 flex justify-center\">\r\n      <div className=\"card w-full max-w-md bg-base-100 shadow\">\r\n        <div className=\"card-body\">\r\n          <h2 className=\"card-title\">Create {role?.toUpperCase()} Profile</h2>\r\n          {message && <div className=\"alert\">{message}</div>}\r\n          <div className=\"grid gap-3\">\r\n            <input className=\"input input-bordered\" placeholder=\"Name\" value={name} onChange={e=>setName(e.target.value)} />\r\n            <input className=\"input input-bordered\" placeholder=\"City\" value={city} onChange={e=>setCity(e.target.value)} />\r\n            <input className=\"input input-bordered\" placeholder=\"Contact Email\" value={email} onChange={e=>setEmail(e.target.value)} />\r\n            <button className=\"btn btn-primary\" onClick={createProfile}>Save Profile</button>\r\n            <p className=\"text-sm opacity-70\">Your profile ID will be stored locally for later use.</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}